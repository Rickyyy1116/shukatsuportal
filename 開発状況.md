# å®‰å¿ƒçµ‚æ´»ãƒŠãƒ“ ãƒãƒ¼ã‚¿ãƒ« â€” é–‹ç™ºçŠ¶æ³

> æœ€çµ‚æ›´æ–°: 2026å¹´2æœˆ27æ—¥
> ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: å®‰å¿ƒçµ‚æ´»ãƒŠãƒ“ ãƒãƒƒãƒãƒ³ã‚°ãƒãƒ¼ã‚¿ãƒ«
> ãƒªãƒã‚¸ãƒˆãƒª: https://github.com/Rickyyy1116/shukatsuportal
> æœ¬ç•ªURL: https://shukatsuportal.fishingricky52.workers.dev
> äºˆå®šãƒ‰ãƒ¡ã‚¤ãƒ³: portal.shukatsu-ansin.comï¼ˆæœªè¨­å®šï¼‰

---

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

çµ‚æ´»ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆè‘¬å„€ãƒ»ãŠå¢“ãƒ»ä»‹è­·ãƒ»ç›¸ç¶šãƒ»éºå“æ•´ç†ãƒ»ä¿é™ºï¼‰ã®ãƒãƒƒãƒãƒ³ã‚°ãƒãƒ¼ã‚¿ãƒ«ã‚µã‚¤ãƒˆã€‚éŒå€‰æ–°æ›¸ï¼ˆã„ã„è‘¬å„€ãƒ»ã„ã„ãŠå¢“ç­‰ï¼‰ã®ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã‚’å‚è€ƒã«ã€**çµ‚æ´»ã‚µãƒ¼ãƒ“ã‚¹ã®æ¯”è¼ƒãƒ»ç„¡æ–™ç›¸è«‡ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **ã‚’æ§‹ç¯‰ã™ã‚‹ã€‚

æ—¢å­˜ã®å®‰å¿ƒçµ‚æ´»ãƒŠãƒ“ï¼ˆshukatsu-ansin.com / WordPress / ConoHa VPSï¼‰ã®SEOè¨˜äº‹ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’èª˜å°ã—ã€äº‹æ¥­è€…ãƒãƒƒãƒãƒ³ã‚°ã§åç›ŠåŒ–ã‚’è¡Œã†ã€‚

---

## 2. ç¾åœ¨ã®ãƒ•ã‚§ãƒ¼ã‚º

```
Phase 1: MVPæ§‹ç¯‰ â† ã€å®Œäº†ã€‘
Phase 1.5: Cloudflareãƒ‡ãƒ—ãƒ­ã‚¤ + Supabaseç§»è¡Œ â† ã€ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº† / Supabaseãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒå®Œäº† / æœ¬ç•ªç§»è¡Œå¾…ã¡ã€‘
Phase 2: äº‹æ¥­è€…é–‹æ‹“ãƒ»åç›ŠåŒ–ï¼ˆ5ã€œ8ãƒ¶æœˆç›®ï¼‰
Phase 3: ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æœ¬æ ¼åŒ–ï¼ˆ9ã€œ14ãƒ¶æœˆç›®ï¼‰
Phase 4: ãƒãƒ«ãƒãƒãƒ¼ãƒ†ã‚£ã‚«ãƒ«å±•é–‹ï¼ˆ15ã€œ24ãƒ¶æœˆç›®ï¼‰
```

---

## 3. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| é …ç›® | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ |
|------|------|-----------|
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | Next.js (App Router) | 16.1.6 |
| UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª | React | 19.2.3 |
| ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° | Tailwind CSS | 4.x |
| è¨€èª | TypeScript | 5.x |
| ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | Cloudflare Workers + OpenNext | - |
| CI/CD | GitHub Actions | - |
| ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ„ãƒ¼ãƒ« | wrangler | 4.67.0 |
| OpenNextã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ | @opennextjs/cloudflare | 1.16.5 |
| ãƒ‡ãƒ¼ã‚¿å±¤ | Supabaseï¼ˆPostgreSQL 17ï¼‰ | @supabase/supabase-js 2.98.0 |
| ãƒ‡ãƒ¼ã‚¿å±¤ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰ | Supabase CLIï¼ˆãƒ­ãƒ¼ã‚«ãƒ«DBï¼‰ | 2.76.15 |
| ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ« | Webpack | Turbopackã¯æ—¥æœ¬èªãƒ‘ã‚¹éå¯¾å¿œã®ãŸã‚ä½¿ç”¨ä¸å¯ |

### æŠ€è¡“çš„åˆ¶ç´„

- **Turbopackéå¯¾å¿œ**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¹ã«æ—¥æœ¬èªï¼ˆ`çµ‚æ´»ã‚µã‚¤ãƒˆ`ç­‰ï¼‰ãŒå«ã¾ã‚Œã‚‹ãŸã‚ã€Next.js 16ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ“ãƒ«ãƒ€ãƒ¼TurbopackãŒä½¿ãˆãªã„ã€‚`--webpack`ãƒ•ãƒ©ã‚°ã§Webpackã‚’ä½¿ç”¨
- **ç”»åƒæœ€é©åŒ–ç„¡åŠ¹**: `next.config.ts`ã§`images.unoptimized: true`ï¼ˆCloudflare Workerså¯¾å¿œï¼‰

---

## 4. ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆ

### 4-1. ç¾åœ¨ã®æ§‹æˆ

```
[ãƒ¦ãƒ¼ã‚¶ãƒ¼]
    â”‚
    â”œâ”€â”€ shukatsu-ansin.com         â†’ ConoHa VPS â†’ WordPressï¼ˆæ—¢å­˜ï¼‰
    â”‚
    â””â”€â”€ shukatsuportal.fishingricky52.workers.dev â†’ Cloudflare Workers â†’ Next.js
          â”‚
          â””â”€â”€ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºæ™‚: Supabase CLIï¼ˆPostgreSQL 17 @ localhost:54322ï¼‰
```

### 4-2. å°†æ¥ã®æ§‹æˆï¼ˆæœ¬ç•ªSupabase + ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šå¾Œï¼‰

```
[ãƒ¦ãƒ¼ã‚¶ãƒ¼]
    â”‚
    â”œâ”€â”€ shukatsu-ansin.com         â†’ ConoHa VPS â†’ WordPress
    â”‚     â””â”€â”€ è¨˜äº‹å†…CTA â†’ ãƒãƒ¼ã‚¿ãƒ«ã¸èª˜å°
    â”‚
    â””â”€â”€ portal.shukatsu-ansin.com  â†’ Cloudflare Workers â†’ Next.js
          â”‚
          â””â”€â”€ Supabase Cloudï¼ˆPostgreSQL / Auth / Storage / Edge Functionsï¼‰
```

### 4-3. CI/CDãƒ•ãƒ­ãƒ¼

```
ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º
    â”‚
    â””â”€â”€ git push â†’ GitHub (Rickyyy1116/shukatsuportal)
                      â”‚
                      â””â”€â”€ main ãƒ–ãƒ©ãƒ³ãƒ push â†’ GitHub Actions è‡ªå‹•å®Ÿè¡Œ
                                                    â”‚
                                                    â”œâ”€â”€ npm ci --legacy-peer-deps
                                                    â”œâ”€â”€ opennextjs-cloudflare build
                                                    â””â”€â”€ opennextjs-cloudflare deploy â†’ Cloudflare Workers
```

---

## 5. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ã‚¤ãƒ³ãƒ•ãƒ©è¨­å®šçŠ¶æ³

| é …ç›® | çŠ¶æ…‹ | è©³ç´° |
|------|------|------|
| GitHub ãƒªãƒã‚¸ãƒˆãƒª | âœ… å®Œäº† | `Rickyyy1116/shukatsuportal`ï¼ˆmainãƒ–ãƒ©ãƒ³ãƒï¼‰ |
| OpenNextè¨­å®š | âœ… å®Œäº† | `open-next.config.ts` ä½œæˆæ¸ˆã¿ |
| Wranglerè¨­å®š | âœ… å®Œäº† | `wrangler.jsonc` ä½œæˆæ¸ˆã¿ï¼ˆWorkerå: `shukatsuportal`ï¼‰ |
| GitHub Actions | âœ… å®Œäº† | `.github/workflows/deploy-cloudflare-workers.yml`ï¼ˆmain push + æ‰‹å‹•å®Ÿè¡Œï¼‰ |
| Cloudflare API Token | âœ… å®Œäº† | 2026/02/23ä½œæˆã€‚Workersç·¨é›†æ¨©é™ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ |
| GitHub Secrets | âœ… å®Œäº† | `CLOUDFLARE_API_TOKEN` + `CLOUDFLARE_ACCOUNT_ID` ç™»éŒ²æ¸ˆã¿ |
| åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤ | âœ… æˆåŠŸ | 2026/02/23 æ‰‹å‹•ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œã§ç¢ºèªæ¸ˆã¿ |
| Workersç¨¼åƒç¢ºèª | âœ… ç¢ºèªæ¸ˆã¿ | `shukatsuportal.fishingricky52.workers.dev` |
| ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ | âŒ æœªè¨­å®š | `shukatsu-ansin.com`ãŒCloudflareã‚¾ãƒ¼ãƒ³ã«æœªç™»éŒ²ã®ãŸã‚è¨­å®šä¸å¯ |

### Cloudflareã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±

| é …ç›® | å€¤ |
|------|-----|
| ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ | Fishingricky52@gmail.com's Account |
| Account ID | `972dc4ac02b9371b92fbb6a6aef55a01` |
| Workerå | `shukatsuportal` |
| Workers URL | `shukatsuportal.fishingricky52.workers.dev` |
| ãƒ—ãƒ©ãƒ³ | Workers Paidï¼ˆ$5/æœˆã€œï¼‰ |

### ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šã®å‰ææ¡ä»¶ï¼ˆå¾Œæ—¥å®Ÿæ–½ï¼‰

`portal.shukatsu-ansin.com` ã‚’è¨­å®šã™ã‚‹ã«ã¯ä»¥ä¸‹ãŒå¿…è¦ï¼š

1. Cloudflareã« `shukatsu-ansin.com` ã‚’ã‚¾ãƒ¼ãƒ³ã¨ã—ã¦è¿½åŠ ï¼ˆç„¡æ–™ãƒ—ãƒ©ãƒ³ã§OKï¼‰
2. ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼ã‚’Cloudflareã«å¤‰æ›´ï¼ˆConoHaå´ã§è¨­å®šï¼‰
3. Cloudflare DNSã«ä»¥ä¸‹ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ï¼š
   - `shukatsu-ansin.com` â†’ ConoHa VPSã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆAãƒ¬ã‚³ãƒ¼ãƒ‰ï¼‰
   - `portal.shukatsu-ansin.com` â†’ Workersï¼ˆã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½ã§è‡ªå‹•è¨­å®šï¼‰
4. WordPresså´ã¯å½±éŸ¿ãªã—ï¼ˆDNSè¨­å®šãŒæ­£ã—ã‘ã‚Œã°ä»Šã¾ã§é€šã‚Šå‹•ä½œï¼‰

---

## 6. å®Ÿè£…æ¸ˆã¿ãƒšãƒ¼ã‚¸ä¸€è¦§

| ãƒšãƒ¼ã‚¸ | URL | ç¨®åˆ¥ | è¡Œæ•° | çŠ¶æ…‹ |
|--------|-----|------|------|------|
| ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ | `/` | SSG | 29è¡Œ | âœ… å®Œäº† |
| ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ | `/{category}/` | SSGï¼ˆ6ãƒšãƒ¼ã‚¸ï¼‰ | 126è¡Œ | âœ… å®Œäº† |
| éƒ½é“åºœçœŒåˆ¥ä¸€è¦§ | `/{category}/{prefecture}/` | å‹•çš„SSR | 118è¡Œ | âœ… å®Œäº† |
| äº‹æ¥­è€…è©³ç´° | `/{category}/detail/{slug}/` | å‹•çš„SSR | 151è¡Œ | âœ… å®Œäº† |
| å•ã„åˆã‚ã› | `/inquiry/` | å‹•çš„SSR | 67è¡Œ | âœ… å®Œäº† |
| å¸‚åŒºç”ºæ‘API | `/api/cities/{prefecture}` | API Route | 11è¡Œ | âœ… å®Œäº† |
| 404ãƒšãƒ¼ã‚¸ | å…¨ãƒ‘ã‚¹ | SSG | 35è¡Œ | âœ… å®Œäº† |

### ãƒ“ãƒ«ãƒ‰å‡ºåŠ›

```
â—‹ /                              â†’ é™çš„ç”Ÿæˆï¼ˆSSGï¼‰
â— /[category]                    â†’ SSGï¼ˆ6ãƒ‘ã‚¹ç”Ÿæˆï¼‰
Æ’ /[category]/[prefecture]       â†’ å‹•çš„SSR
Æ’ /[category]/detail/[slug]      â†’ å‹•çš„SSR
Æ’ /inquiry                       â†’ å‹•çš„SSR
â—‹ /_not-found                    â†’ é™çš„ç”Ÿæˆ
```

---

## 7. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§

### 7-1. ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ç”¨ï¼ˆsrc/components/home/ï¼‰

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | è¡Œæ•° | ç¨®åˆ¥ | èª¬æ˜ |
|-------------|------|------|------|
| HeroSection | 38è¡Œ | Server | ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ + å®Ÿç¸¾ãƒãƒƒã‚¸ |
| ServiceSearch | 264è¡Œ | Client | ã‚¿ãƒ–å‹çµ±åˆæ¤œç´¢ï¼ˆãƒ¡ã‚¤ãƒ³UIï¼‰ |
| AreaSelector | 61è¡Œ | Client | åœ°åŸŸã‚¿ãƒ– â†’ éƒ½é“åºœçœŒé¸æŠ |
| CategoryCards | 44è¡Œ | Server | 6ã‚«ãƒ†ã‚´ãƒªã®ã‚¢ã‚¤ã‚³ãƒ³ã‚«ãƒ¼ãƒ‰ |
| HowItWorks | 63è¡Œ | Server | 3ã‚¹ãƒ†ãƒƒãƒ—åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ |
| TrustSignals | 51è¡Œ | Server | ä¿¡é ¼ã‚·ã‚°ãƒŠãƒ«ï¼ˆå®Œå…¨ç„¡æ–™ç­‰ï¼‰ |

### 7-2. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç”¨ï¼ˆsrc/components/layout/ï¼‰

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | è¡Œæ•° | ç¨®åˆ¥ | èª¬æ˜ |
|-------------|------|------|------|
| Header | 123è¡Œ | Client | ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¯¾å¿œï¼‰ |
| Footer | 91è¡Œ | Server | 3ã‚«ãƒ©ãƒ ãƒ•ãƒƒã‚¿ãƒ¼ |
| Breadcrumb | 70è¡Œ | Server | ãƒ‘ãƒ³ããš + JSON-LDæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ |

### 7-3. äº‹æ¥­è€…é–¢é€£ï¼ˆsrc/components/provider/ï¼‰

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | è¡Œæ•° | ç¨®åˆ¥ | èª¬æ˜ |
|-------------|------|------|------|
| ProviderList | 53è¡Œ | Server | äº‹æ¥­è€…ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰ |
| ProviderCard | 95è¡Œ | Server | äº‹æ¥­è€…ã‚«ãƒ¼ãƒ‰ï¼ˆä¸€è¦§è¡¨ç¤ºç”¨ï¼‰ |
| ProviderDetail | 141è¡Œ | Server | äº‹æ¥­è€…è©³ç´°è¡¨ç¤º |
| ProviderCTA | 70è¡Œ | Client | å›ºå®šCTAãƒãƒ¼ï¼ˆé›»è©±ç›¸è«‡/è³‡æ–™è«‹æ±‚ï¼‰ |

### 7-4. å£ã‚³ãƒŸé–¢é€£ï¼ˆsrc/components/review/ï¼‰

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | è¡Œæ•° | ç¨®åˆ¥ | èª¬æ˜ |
|-------------|------|------|------|
| ReviewList | 56è¡Œ | Server | ã‚µãƒãƒªãƒ¼ + å£ã‚³ãƒŸä¸€è¦§ |
| ReviewCard | 53è¡Œ | Server | å€‹åˆ¥å£ã‚³ãƒŸã‚«ãƒ¼ãƒ‰ |
| ReviewSummary | 65è¡Œ | Server | è©•ä¾¡åˆ†å¸ƒã‚°ãƒ©ãƒ• |

### 7-5. ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆsrc/components/form/ï¼‰

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | è¡Œæ•° | ç¨®åˆ¥ | èª¬æ˜ |
|-------------|------|------|------|
| InquiryForm | 333è¡Œ | Client | å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰ |

### 7-6. UIéƒ¨å“ï¼ˆsrc/components/ui/ï¼‰

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | è¡Œæ•° | ç¨®åˆ¥ | èª¬æ˜ |
|-------------|------|------|------|
| Badge | 33è¡Œ | Server | ãƒ”ãƒ«å‹ãƒãƒƒã‚¸ï¼ˆ5ãƒãƒªã‚¢ãƒ³ãƒˆï¼‰ |
| StarRating | 60è¡Œ | Server | æ˜Ÿè©•ä¾¡è¡¨ç¤ºï¼ˆfull/half/emptyï¼‰ |

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆè¨ˆ: 19ãƒ•ã‚¡ã‚¤ãƒ« / 1,291è¡Œ**

---

## 8. ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆDALï¼‰

### 8-1. è¨­è¨ˆæ€æƒ³

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®é–“ã«DALé–¢æ•°ã‚’æŒŸã‚€è¨­è¨ˆã€‚**Supabaseç§»è¡Œå®Œäº†æ¸ˆã¿ â€” DALé–¢æ•°ã¯ã™ã¹ã¦Supabaseã‚¯ã‚¨ãƒªã«å·®ã—æ›¿ãˆæ¸ˆã¿ã€‚**

```
[ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆTSXï¼‰]
       â”‚
       â†“ import { getProviders } from "@/lib/data"
       â”‚
[DALé–¢æ•°ï¼ˆsrc/lib/data/*.tsï¼‰]
       â”‚
       â””â”€â”€ Supabase Client ã§DBã‚¯ã‚¨ãƒªï¼ˆ@supabase/supabase-jsï¼‰
           â””â”€â”€ src/lib/supabase/server.ts â€” createSupabaseServer()
```

### 8-2. DALé–¢æ•°ä¸€è¦§ï¼ˆsrc/lib/data/ï¼‰â€” Supabaseå¯¾å¿œæ¸ˆã¿

| ãƒ•ã‚¡ã‚¤ãƒ« | é–¢æ•° | å¼•æ•° | æˆ»ã‚Šå€¤ | è¡Œæ•° | DBæ¥ç¶š |
|---------|------|------|--------|------|--------|
| categories.ts | `getCategories()` | â€” | `Category[]` | 43è¡Œ | âœ… Supabase |
| categories.ts | `getCategoryBySlug()` | slug | `Category \| null` | | âœ… Supabase |
| areas.ts | `getPrefectures()` | â€” | `Area[]` | 104è¡Œ | âœ… Supabase |
| areas.ts | `getPrefectureBySlug()` | slug | `Area \| null` | | âœ… Supabase |
| areas.ts | `getCitiesByPrefecture()` | prefSlug | `Area[]` | | âœ… Supabase |
| areas.ts | `getCityBySlug()` | prefSlug, citySlug | `Area \| null` | | âœ… Supabase |
| areas.ts | `getAreaBySlug()` | slug | `Area \| null` | | âœ… Supabase |
| providers.ts | `getProviders()` | ProviderFilter | `PaginatedResult<Provider>` | 123è¡Œ | âœ… Supabase |
| providers.ts | `getProviderBySlug()` | catSlug, slug | `Provider \| null` | | âœ… Supabase |
| providers.ts | `getPopularProviders()` | limit | `Provider[]` | | âœ… Supabase |
| reviews.ts | `getReviewsByProvider()` | providerId | `Review[]` | 64è¡Œ | âœ… Supabase |
| reviews.ts | `getReviewSummary()` | providerId | `ReviewSummary` | | âœ… Supabase |
| inquiries.ts | `submitInquiry()` | InquiryInput | `{ success, error? }` | 65è¡Œ | âœ… Supabase (Server Action) |
| types.ts | â€” | â€” | å‹å®šç¾©å…¨ä½“ | 92è¡Œ | â€” |
| index.ts | â€” | â€” | re-export | 12è¡Œ | â€” |

### 8-3. Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆsrc/lib/supabase/ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | èª¬æ˜ | è¡Œæ•° |
|---------|------|------|
| server.ts | `createSupabaseServer()` â€” ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ç”¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆ | 13è¡Œ |

ç’°å¢ƒå¤‰æ•° `NEXT_PUBLIC_SUPABASE_URL` + `NEXT_PUBLIC_SUPABASE_ANON_KEY` ã§æ¥ç¶šå…ˆã‚’åˆ¶å¾¡ã€‚

### 8-4. Supabaseãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆsupabase/ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | èª¬æ˜ |
|---------|------|
| `config.toml` | Supabase CLIè¨­å®šï¼ˆPostgreSQL 17ã€ãƒãƒ¼ãƒˆ54321/54322ï¼‰ |
| `migrations/20260226135828_init_schema.sql` | åˆæœŸã‚¹ã‚­ãƒ¼ãƒï¼ˆ436è¡Œï¼‰â€” 7ãƒ†ãƒ¼ãƒ–ãƒ« + ãƒˆãƒªã‚¬ãƒ¼ + ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ |
| `seed.sql` | ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚«ãƒ†ã‚´ãƒª6ä»¶ã€æ±äº¬éƒ½ã‚¨ãƒªã‚¢ã€è‘¬å„€ç¤¾30ä»¶ã€éœŠåœ’30ä»¶ï¼‰ |

**ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§:**

| ãƒ†ãƒ¼ãƒ–ãƒ« | ç”¨é€” | å‚™è€ƒ |
|---------|------|------|
| `categories` | ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ãƒ¼ | ENUMå‹ `category_slug` ä½¿ç”¨ |
| `areas` | éƒ½é“åºœçœŒ + å¸‚åŒºç”ºæ‘ | éšå±¤æ§‹é€ ï¼ˆlevel 1/2ï¼‰ |
| `providers` | äº‹æ¥­è€…æƒ…å ± | ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹7å€‹ã§é«˜é€ŸåŒ– |
| `reviews` | å£ã‚³ãƒŸ | provider_idã§å¤–éƒ¨ã‚­ãƒ¼å‚ç…§ |
| `leads` | ãƒªãƒ¼ãƒ‰ï¼ˆå•ã„åˆã‚ã›ï¼‰ | åéŸ¿èª²é‡‘ + æˆç´„è¿½è·¡ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ |
| `followups` | ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—ç®¡ç† | è‡ªå‹•ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ« |

### 8-5. ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ï¼ˆsrc/lib/mock/ï¼‰â€” ãƒ¬ã‚¬ã‚·ãƒ¼

> âš ï¸ DALå±¤ãŒSupabaseåŒ–ã•ã‚ŒãŸãŸã‚ã€ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã¯ç¾åœ¨ä½¿ç”¨ã•ã‚Œã¦ã„ãªã„ã€‚å°†æ¥çš„ã«å‰Šé™¤äºˆå®šã€‚

| ãƒ•ã‚¡ã‚¤ãƒ« | ãƒ‡ãƒ¼ã‚¿ä»¶æ•° | è¡Œæ•° |
|---------|----------|------|
| categories.ts | 6ã‚«ãƒ†ã‚´ãƒª | 58è¡Œ |
| areas.ts | 47éƒ½é“åºœçœŒ + å¸‚åŒºç”ºæ‘113ä»¶ï¼ˆæ±äº¬/ç¥å¥ˆå·/æ„›çŸ¥/å¤§é˜ª/ç¦å²¡ï¼‰ | 205è¡Œ |
| providers.ts | 22äº‹æ¥­è€…ï¼ˆè‘¬å„€7/ãŠå¢“4/ä»‹è­·4/ç›¸ç¶š3/éºå“æ•´ç†3/ä¿é™º2ï¼‰ | 217è¡Œ |
| reviews.ts | 16ä»¶ã®å£ã‚³ãƒŸ | 29è¡Œ |

### 8-6. å‹å®šç¾©ï¼ˆsrc/lib/data/types.tsï¼‰

```typescript
// ä¸»è¦ãªå‹
Provider       // äº‹æ¥­è€…ï¼ˆid, name, slug, categorySlug, address, phone, ratingAvg, reviewCount...ï¼‰
Category       // ã‚«ãƒ†ã‚´ãƒªï¼ˆid, name, slug, icon, providerLabel...ï¼‰
Area           // åœ°åŸŸï¼ˆid, name, slug, level, region, parentSlug...ï¼‰
Review         // å£ã‚³ãƒŸï¼ˆid, providerId, rating, content, authorName...ï¼‰
InquiryInput   // å•ã„åˆã‚ã›å…¥åŠ›
ProviderFilter // æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
PaginatedResult<T> // ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³çµæœ
ReviewSummary  // å£ã‚³ãƒŸçµ±è¨ˆ
```

---

## 9. å®šæ•°å®šç¾©ï¼ˆsrc/lib/constants.tsï¼‰

```typescript
// æœ‰åŠ¹ãªã‚«ãƒ†ã‚´ãƒªã‚¹ãƒ©ãƒƒã‚°
VALID_CATEGORIES = ["sougi", "ohaka", "kaigo", "souzoku", "ihinseiri", "hoken"]

// 6ã‚«ãƒ†ã‚´ãƒªæƒ…å ±ï¼ˆãƒ©ãƒ™ãƒ«ã€ã‚¢ã‚¤ã‚³ãƒ³ã€äº‹æ¥­è€…å‘¼ç§°ï¼‰
CATEGORIES = [
  { slug: "sougi", name: "è‘¬å„€", icon: "ğŸ•¯ï¸", providerLabel: "è‘¬å„€ç¤¾" },
  { slug: "ohaka", name: "ãŠå¢“", icon: "ğŸª¦", providerLabel: "éœŠåœ’ãƒ»å¢“åœ°" },
  ...
]

// åœ°åŸŸã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆåŒ—æµ·é“ãƒ»æ±åŒ— / é–¢æ± / ä¸­éƒ¨ / è¿‘ç•¿ / ä¸­å›½ãƒ»å››å›½ / ä¹å·ãƒ»æ²–ç¸„ï¼‰
REGION_GROUPS = [...]

// ã‚µã‚¤ãƒˆæƒ…å ±
SITE_NAME = "å®‰å¿ƒçµ‚æ´»ãƒŠãƒ“"
SITE_URL = "https://portal.shukatsu-ansin.com"
```

---

## 10. ã‚³ãƒ¼ãƒ‰çµ±è¨ˆ

| ã‚«ãƒ†ã‚´ãƒª | ãƒ•ã‚¡ã‚¤ãƒ«æ•° | è¡Œæ•° |
|---------|----------|------|
| src/app/ï¼ˆãƒšãƒ¼ã‚¸ï¼‰ | 8 | 571 |
| src/components/ | 19 | 1,291 |
| src/lib/data/ï¼ˆDAL â€” Supabaseå¯¾å¿œï¼‰ | 7 | 503 |
| src/lib/supabase/ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰ | 1 | 13 |
| src/lib/mock/ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ãƒ»æœªä½¿ç”¨ï¼‰ | 4 | 509 |
| src/lib/constants.ts | 1 | 108 |
| supabase/ï¼ˆã‚¹ã‚­ãƒ¼ãƒãƒ»è¨­å®šï¼‰ | 3 | 500+ |
| **ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰åˆè¨ˆ** | **43** | **3,495+** |
| è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« | 8 | 171 |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | 4 | 2,053 |
| CI/CD | 1 | 48 |
| **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“** | **56** | **5,767+** |

---

## 11. Gitã‚³ãƒŸãƒƒãƒˆå±¥æ­´

```
b5204eb Update architecture docs for Cloudflare Workers deployment status
08aa9e6 Switch deployment design to Cloudflare Workers via OpenNext
d0d9e93 Harden Cloudflare deploy workflow and add setup guide
80d82da Add Cloudflare Pages deployment workflow and setup guide
7115860 Configure GitHub Pages deployment for static Next.js site
777fecc Merge remote main into local portal history
2ec8c59 Initial import from local portal project
3642cc0 Initial commit
```

ãƒ‡ãƒ—ãƒ­ã‚¤åŸºç›¤ãŒPages â†’ Workers (OpenNext)ã«æ®µéšçš„ã«ç§»è¡Œã•ã‚ŒãŸçµŒç·¯ã‚ã‚Šã€‚

---

## 12. è§£æ±ºæ¸ˆã¿ã®æŠ€è¡“èª²é¡Œ

| èª²é¡Œ | åŸå›  | è§£æ±ºæ–¹æ³• |
|------|------|---------|
| Turbopackãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ | ãƒ‘ã‚¹ã«æ—¥æœ¬èªæ–‡å­— | `--webpack`ãƒ•ãƒ©ã‚°ã§åˆ‡æ›¿ |
| TypeScript `includes` å‹ã‚¨ãƒ©ãƒ¼ | `as const`ã®æ¨è«– | `as readonly string[]`ã‚­ãƒ£ã‚¹ãƒˆ |
| GitHub Pagesé™çš„åˆ¶ç´„ | `output: export`ã§ã¯å‹•çš„ãƒ«ãƒ¼ãƒˆä¸å¯ | Cloudflare Workers (OpenNext) ã«ç§»è¡Œ |
| ProviderDetail propsãƒŸã‚¹ãƒãƒƒãƒ | æœªå®šç¾©propsã‚’æ¸¡ã—ã¦ã„ãŸ | ä¸è¦propsã‚’å‰Šé™¤ |
| ãƒ‡ãƒ—ãƒ­ã‚¤å¤±æ•— | GitHub Secretsæœªè¨­å®š | API Tokenä½œæˆ + Secretsç™»éŒ²ã§è§£æ±º |

---

## 13. ã‚¿ã‚¹ã‚¯ä¸€è¦§

### å®Œäº†æ¸ˆã¿ï¼ˆPhase 1.5 Supabaseç§»è¡Œï¼‰

| # | ã‚¿ã‚¹ã‚¯ | çŠ¶æ…‹ | å®Œäº†æ—¥ | è©³ç´° |
|---|--------|------|--------|------|
| 1 | Supabase CLI ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒæ§‹ç¯‰ | âœ… å®Œäº† | 2/26 | `supabase/config.toml` ä½œæˆã€`supabase start` ã§èµ·å‹• |
| 2 | DBã‚¹ã‚­ãƒ¼ãƒä½œæˆ | âœ… å®Œäº† | 2/26 | `supabase/migrations/20260226135828_init_schema.sql`ï¼ˆ436è¡Œã€7ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰ |
| 3 | ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ | âœ… å®Œäº† | 2/26 | ã‚«ãƒ†ã‚´ãƒª6ä»¶ã€æ±äº¬ã‚¨ãƒªã‚¢ã€è‘¬å„€ç¤¾30ä»¶ã€éœŠåœ’30ä»¶ |
| 4 | DALé–¢æ•°ã®SupabaseåŒ– | âœ… å®Œäº† | 2/26 | å…¨11é–¢æ•°ã‚’Supabaseã‚¯ã‚¨ãƒªã«å·®ã—æ›¿ãˆæ¸ˆã¿ |
| 5 | Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£… | âœ… å®Œäº† | 2/26 | `src/lib/supabase/server.ts` â€” `createSupabaseServer()` |
| 6 | ç’°å¢ƒå¤‰æ•°è¨­å®š | âœ… å®Œäº† | 2/26 | `.env.local` + `.env.example` ä½œæˆ |

### å„ªå…ˆåº¦: é«˜ï¼ˆPhase 1.5 â€” æ¬¡ã«å–ã‚Šçµ„ã‚€ã¹ãï¼‰

| # | ã‚¿ã‚¹ã‚¯ | ä¾å­˜é–¢ä¿‚ | è©³ç´° |
|---|--------|---------|------|
| 7 | æœ¬ç•ªSupabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ | ãªã— | supabase.com ã§Freeãƒ—ãƒ©ãƒ³ä½œæˆ â†’ æœ¬ç•ªURL + APIã‚­ãƒ¼å–å¾— |
| 8 | æœ¬ç•ªDBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ | #7 | `supabase db push` ã§æœ¬ç•ªDBã«ã‚¹ã‚­ãƒ¼ãƒé©ç”¨ |
| 9 | æœ¬ç•ªç’°å¢ƒå¤‰æ•°è¨­å®š | #7 | GitHub Secrets + Cloudflare Workersç’°å¢ƒå¤‰æ•° |
| 10 | äº‹æ¥­è€…ãƒ‡ãƒ¼ã‚¿æ‹¡å…… | #8 | æ±äº¬ä»¥å¤–ï¼ˆç¥å¥ˆå·/å¤§é˜ª/æ„›çŸ¥/ç¦å²¡ç­‰ï¼‰ã®äº‹æ¥­è€…ãƒ‡ãƒ¼ã‚¿è¿½åŠ  |
| 11 | ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š | åˆ¥é€” | Cloudflareã‚¾ãƒ¼ãƒ³è¿½åŠ  + ãƒãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼å¤‰æ›´ |
| 12 | ãƒ¡ãƒ¼ãƒ«é€šçŸ¥å®Ÿè£… | #8 | Resend API ã§å•ã„åˆã‚ã›å—ä¿¡æ™‚ã«ãƒ¡ãƒ¼ãƒ«é€ä¿¡ |

### å„ªå…ˆåº¦: ä¸­

| # | ã‚¿ã‚¹ã‚¯ | è©³ç´° |
|---|--------|------|
| 13 | ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ç”Ÿæˆ | src/app/sitemap.ts ã®å®Ÿè£… |
| 14 | robots.txt | src/app/robots.ts ã®å®Ÿè£… |
| 15 | OGPç”»åƒè‡ªå‹•ç”Ÿæˆ | Next.js ImageResponse |
| 16 | WPã‹ã‚‰ã®å°ç·šè¨­ç½® | è¨˜äº‹å†…CTAã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒãƒŠãƒ¼ |
| 17 | å®Ÿç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ | Supabase Storage or Cloudflare R2 |

### å„ªå…ˆåº¦: ä½ï¼ˆPhase 2ä»¥é™ï¼‰

| # | ã‚¿ã‚¹ã‚¯ | è©³ç´° |
|---|--------|------|
| 18 | äº‹æ¥­è€…ç®¡ç†ç”»é¢ | Supabase Auth + ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãƒãƒ¼ã‚¿ãƒ« |
| 19 | æˆç´„ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°UI | leads/followupsãƒ†ãƒ¼ãƒ–ãƒ«ã¯ä½œæˆæ¸ˆã¿ã€‚ç®¡ç†ç”»é¢ãŒå¿…è¦ |
| 20 | å£ã‚³ãƒŸæŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ  | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®å£ã‚³ãƒŸæŠ•ç¨¿æ©Ÿèƒ½ |
| 21 | ä¸€æ‹¬è¦‹ç©ã‚‚ã‚Šãƒ•ã‚©ãƒ¼ãƒ  | /estimate/ ãƒšãƒ¼ã‚¸ |
| 22 | äº‹æ¥­è€…å–¶æ¥­è‡ªå‹•åŒ– | n8n + agent-browser |
| 23 | ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆé€£æº | A8.netç­‰ |
| 24 | Google Mapsé€£æº | äº‹æ¥­è€…è©³ç´°ãƒšãƒ¼ã‚¸ã«åœ°å›³è¡¨ç¤º |

---

## 14. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºæ‰‹é †

### å‰ææ¡ä»¶

- Node.js 20ä»¥ä¸Š
- npm

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
cd portal/
npm ci --legacy-peer-deps
```

### Supabaseãƒ­ãƒ¼ã‚«ãƒ«èµ·å‹•ï¼ˆDocker Desktopå¿…é ˆï¼‰

```bash
npx supabase start
# â†’ PostgreSQL: localhost:54322
# â†’ REST API:   localhost:54321
# â†’ Studio:     localhost:54323ï¼ˆDBç®¡ç†ç”»é¢ï¼‰
```

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
npm run dev -- --webpack
# â†’ http://localhost:3000ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«Supabaseã«æ¥ç¶šï¼‰
```

### ãƒ“ãƒ«ãƒ‰ç¢ºèª

```bash
npm run build
```

### Cloudflare Workers ãƒ­ãƒ¼ã‚«ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

```bash
npm run preview:worker
```

### ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæ‰‹å‹•ï¼‰

```bash
# ç’°å¢ƒå¤‰æ•°ãŒå¿…è¦
export CLOUDFLARE_API_TOKEN=xxx
export CLOUDFLARE_ACCOUNT_ID=xxx
npm run deploy:worker
```

### ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆè‡ªå‹•ï¼‰

`main`ãƒ–ãƒ©ãƒ³ãƒã«pushã™ã‚‹ã ã‘ã€‚GitHub ActionsãŒè‡ªå‹•å®Ÿè¡Œã€‚

```bash
git push origin main
```

---

## 15. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
portal/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy-cloudflare-workers.yml   # CI/CD
â”‚
â”œâ”€â”€ public/
â”‚   â””â”€â”€ (Next.jsãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¢ã‚»ãƒƒãƒˆ)
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                                # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx                      # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆNoto Sans JPï¼‰
â”‚   â”‚   â”œâ”€â”€ page.tsx                        # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ not-found.tsx                   # 404ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ inquiry/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx                    # å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â””â”€â”€ cities/
â”‚   â”‚   â”‚       â””â”€â”€ [prefecture]/
â”‚   â”‚   â”‚           â””â”€â”€ route.ts            # å¸‚åŒºç”ºæ‘å–å¾—API
â”‚   â”‚   â””â”€â”€ [category]/
â”‚   â”‚       â”œâ”€â”€ page.tsx                    # ã‚«ãƒ†ã‚´ãƒªä¸€è¦§
â”‚   â”‚       â”œâ”€â”€ [prefecture]/
â”‚   â”‚       â”‚   â””â”€â”€ page.tsx                # éƒ½é“åºœçœŒåˆ¥ä¸€è¦§
â”‚   â”‚       â””â”€â”€ detail/
â”‚   â”‚           â””â”€â”€ [slug]/
â”‚   â”‚               â””â”€â”€ page.tsx            # äº‹æ¥­è€…è©³ç´°
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ home/                           # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ç”¨ï¼ˆ6ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚   â”‚   â”œâ”€â”€ layout/                         # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆ3ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚   â”‚   â”œâ”€â”€ provider/                       # äº‹æ¥­è€…é–¢é€£ï¼ˆ4ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚   â”‚   â”œâ”€â”€ review/                         # å£ã‚³ãƒŸé–¢é€£ï¼ˆ3ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚   â”‚   â”œâ”€â”€ form/                           # ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆ1ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚   â”‚   â””â”€â”€ ui/                             # UIéƒ¨å“ï¼ˆ2ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ constants.ts                    # å®šæ•°ï¼ˆã‚«ãƒ†ã‚´ãƒªã€åœ°åŸŸã‚°ãƒ«ãƒ¼ãƒ—ç­‰ï¼‰
â”‚       â”œâ”€â”€ supabase/                       # Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚       â”‚   â””â”€â”€ server.ts                   # createSupabaseServer()
â”‚       â”œâ”€â”€ data/                           # DALï¼ˆSupabaseå¯¾å¿œæ¸ˆã¿ï¼‰
â”‚       â”‚   â”œâ”€â”€ index.ts                    # re-export
â”‚       â”‚   â”œâ”€â”€ types.ts                    # å‹å®šç¾©
â”‚       â”‚   â”œâ”€â”€ categories.ts              # âœ… Supabaseã‚¯ã‚¨ãƒª
â”‚       â”‚   â”œâ”€â”€ areas.ts                   # âœ… Supabaseã‚¯ã‚¨ãƒª
â”‚       â”‚   â”œâ”€â”€ providers.ts               # âœ… Supabaseã‚¯ã‚¨ãƒª
â”‚       â”‚   â”œâ”€â”€ reviews.ts                 # âœ… Supabaseã‚¯ã‚¨ãƒª
â”‚       â”‚   â””â”€â”€ inquiries.ts               # âœ… Supabase Server Action
â”‚       â””â”€â”€ mock/                           # ãƒ¬ã‚¬ã‚·ãƒ¼ï¼ˆç¾åœ¨æœªä½¿ç”¨ãƒ»å‰Šé™¤äºˆå®šï¼‰
â”‚           â”œâ”€â”€ categories.ts
â”‚           â”œâ”€â”€ areas.ts
â”‚           â”œâ”€â”€ providers.ts
â”‚           â””â”€â”€ reviews.ts
â”‚
â”‚
â”œâ”€â”€ supabase/                               # Supabase CLIè¨­å®š
â”‚   â”œâ”€â”€ config.toml                         # ãƒ­ãƒ¼ã‚«ãƒ«DBè¨­å®šï¼ˆPostgreSQL 17ï¼‰
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â””â”€â”€ 20260226135828_init_schema.sql  # åˆæœŸã‚¹ã‚­ãƒ¼ãƒï¼ˆ7ãƒ†ãƒ¼ãƒ–ãƒ«ã€436è¡Œï¼‰
â”‚   â””â”€â”€ seed.sql                            # ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚«ãƒ†ã‚´ãƒª/ã‚¨ãƒªã‚¢/äº‹æ¥­è€…ï¼‰
â”‚
â”œâ”€â”€ .env.local                              # ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒå¤‰æ•°ï¼ˆSupabaseæ¥ç¶šå…ˆï¼‰
â”œâ”€â”€ .env.example                            # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ next.config.ts                          # Next.jsè¨­å®š
â”œâ”€â”€ tsconfig.json                           # TypeScriptè¨­å®š
â”œâ”€â”€ postcss.config.mjs                      # PostCSSè¨­å®šï¼ˆTailwind v4ï¼‰
â”œâ”€â”€ eslint.config.mjs                       # ESLint 9è¨­å®š
â”œâ”€â”€ package.json                            # ä¾å­˜é–¢ä¿‚ãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ wrangler.jsonc                          # Cloudflare Workersè¨­å®š
â”œâ”€â”€ open-next.config.ts                     # OpenNextè¨­å®š
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
â”œâ”€â”€ CLOUDFLARE_SETUP.md                     # Cloudflareã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
â”œâ”€â”€ ãƒãƒ¼ã‚¿ãƒ«ã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆ.md                    # èª²é‡‘ãƒ¢ãƒ‡ãƒ«ãƒ»æˆç´„æ¤œçŸ¥ãƒ»ä¸æ­£å¯¾ç­–
â”œâ”€â”€ è¦ä»¶å®šç¾©æ›¸.md                             # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®è¦ä»¶å®šç¾©
â””â”€â”€ é–‹ç™ºçŠ¶æ³.md                              # â† ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

---

## 16. é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å†…å®¹ |
|-------------|------|
| `è¦ä»¶å®šç¾©æ›¸.md` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®è¦ä»¶å®šç¾©ï¼ˆãƒ“ã‚¸ãƒã‚¹è¦ä»¶ã€æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã€ãƒšãƒ¼ã‚¸ä»•æ§˜ã€ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã€SEOè¦ä»¶ã€ãƒ‡ã‚¶ã‚¤ãƒ³ä»•æ§˜ï¼‰ |
| `ãƒãƒ¼ã‚¿ãƒ«ã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆ.md` | ç«¶åˆèª¿æŸ»ã€ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰èª²é‡‘ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆã€æˆç´„æ¤œçŸ¥æŠ€è¡“è¨­è¨ˆã€ä¸æ­£å¯¾ç­–ã€åç›Šã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€DBè¨­è¨ˆï¼ˆSupabase SQLï¼‰ |
| `CLOUDFLARE_SETUP.md` | Cloudflare Workers ãƒ‡ãƒ—ãƒ­ã‚¤ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é † |
| `README.md` | é–‹ç™ºè€…å‘ã‘ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ |

---

## 17. ç’°å¢ƒå¤‰æ•°

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºï¼ˆ.env.local â€” è¨­å®šæ¸ˆã¿ï¼‰

```bash
# Supabaseï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH
```

### æœ¬ç•ªï¼ˆæœªè¨­å®š â€” æœ¬ç•ªSupabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆå¾Œã«è¨­å®šï¼‰

```bash
# Supabaseï¼ˆæœ¬ç•ªï¼‰
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxxxx

# ãƒ¡ãƒ¼ãƒ«é€ä¿¡
RESEND_API_KEY=re_xxxxx
```

### GitHub Secretsï¼ˆè¨­å®šæ¸ˆã¿ï¼‰

| Secretå | ç”¨é€” | çŠ¶æ…‹ |
|----------|------|------|
| `CLOUDFLARE_API_TOKEN` | Workers ãƒ‡ãƒ—ãƒ­ã‚¤ç”¨APIãƒˆãƒ¼ã‚¯ãƒ³ | âœ… è¨­å®šæ¸ˆã¿ |
| `CLOUDFLARE_ACCOUNT_ID` | Cloudflareã‚¢ã‚«ã‚¦ãƒ³ãƒˆè­˜åˆ¥å­ | âœ… è¨­å®šæ¸ˆã¿ |

---

## 18. ãƒ‡ã‚¶ã‚¤ãƒ³ä»•æ§˜

### ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼

```
ãƒ—ãƒ©ã‚¤ãƒãƒªï¼ˆã‚°ãƒªãƒ¼ãƒ³ç³»ï¼‰:
  #4a8c5c  ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼
  #3d7a4e  ãƒœã‚¿ãƒ³ãƒ»ãƒªãƒ³ã‚¯
  #1a3f28  ãƒ•ãƒƒã‚¿ãƒ¼èƒŒæ™¯

ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ:
  #f59e0b  CTAï¼ˆè³‡æ–™è«‹æ±‚ãƒœã‚¿ãƒ³ç­‰ï¼‰
```

### ãƒ•ã‚©ãƒ³ãƒˆ

- Noto Sans JPï¼ˆGoogle Fonts / weight: 400, 500, 700ï¼‰

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–

- ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆè¨­è¨ˆ
- Tailwindæ¨™æº–ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆï¼ˆsm/md/lg/xlï¼‰
- æœ€å¤§å¹…: 1280px

---

## 19. SEOå¯¾å¿œçŠ¶æ³

| é …ç›® | çŠ¶æ…‹ | è©³ç´° |
|------|------|------|
| ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ | âœ… å®Ÿè£…æ¸ˆã¿ | ãƒšãƒ¼ã‚¸ã”ã¨ã«title/descriptionè¨­å®š |
| ãƒˆãƒ¬ãƒ¼ãƒªãƒ³ã‚°ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ | âœ… æœ‰åŠ¹ | URLçµ±ä¸€ |
| JSON-LDæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ | âœ… å®Ÿè£…æ¸ˆã¿ | BreadcrumbList + LocalBusiness + AggregateRating |
| OGPã‚¿ã‚° | âš ï¸ åŸºæœ¬ã®ã¿ | ç”»åƒè‡ªå‹•ç”Ÿæˆã¯æœªå®Ÿè£… |
| ã‚µã‚¤ãƒˆãƒãƒƒãƒ— | âŒ æœªå®Ÿè£… | src/app/sitemap.ts |
| robots.txt | âŒ æœªå®Ÿè£… | src/app/robots.ts |

---

## 20. åç›Šãƒ¢ãƒ‡ãƒ«æ¦‚è¦

è©³ç´°ã¯ `ãƒãƒ¼ã‚¿ãƒ«ã‚µãƒ¼ãƒ“ã‚¹è¨­è¨ˆ.md` å‚ç…§ã€‚

### ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰èª²é‡‘ãƒ¢ãƒ‡ãƒ«

| ã‚«ãƒ†ã‚´ãƒª | åéŸ¿èª²é‡‘ï¼ˆãƒªãƒ¼ãƒ‰ï¼‰ | æˆç´„èª²é‡‘ï¼ˆæˆåŠŸå ±é…¬ï¼‰ |
|---------|------------------|-------------------|
| è‘¬å„€ | 5,000å††/ä»¶ | æˆç´„é‡‘é¡ã®5% |
| ãŠå¢“ | 3,000ã€œ5,000å††/ä»¶ | â€” |
| ä»‹è­·æ–½è¨­ | 3,000å††/ä»¶ | 30,000å††/ä»¶ |
| éºå“æ•´ç† | 3,000å††/ä»¶ | â€” |
| ç›¸ç¶šç›¸è«‡ | 3,000å††/ä»¶ | â€” |
| ä¿é™ºç›¸è«‡ | 2,000å††/ä»¶ | â€” |

### åç›Šç›®æ¨™

| ãƒ•ã‚§ãƒ¼ã‚º | æ™‚æœŸ | æœˆé–“å£²ä¸Šç›®æ¨™ |
|---------|------|-----------|
| Phase 2 | 5ã€œ8ãƒ¶æœˆç›® | ç´„255ä¸‡å†† |
| Phase 3 | 9ã€œ14ãƒ¶æœˆç›® | ç´„629ä¸‡å†† |
